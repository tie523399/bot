# æµ·æ°´ä¸å¯æ–—é‡ - Telegram è³¼ç‰©æ©Ÿå™¨äºº

ä¸€å€‹åŠŸèƒ½å®Œæ•´çš„ Telegram è³¼ç‰©æ©Ÿå™¨äººï¼ŒåŒ…å«å•†å“ç®¡ç†ã€è³¼ç‰©è»Šã€è¨‚å–®è™•ç†ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹é»

### ç”¨æˆ¶åŠŸèƒ½
- ğŸŒŠ ç€è¦½å•†å“åˆ†é¡ï¼ˆæµ·æ°´ã€ä¸å¯ã€æ–—é‡ï¼‰
- ğŸ›ï¸ è³¼ç‰©è»Šç®¡ç†ï¼ˆå¢åŠ ã€æ¸›å°‘ã€åˆªé™¤å•†å“ï¼‰
- ğŸ’³ çµå¸³ä¸‹å–®
- ğŸ“¦ æŸ¥çœ‹æ­·å²è¨‚å–®
- ğŸ“ è¯ç¹«å®¢æœ

### ç®¡ç†å“¡åŠŸèƒ½
- â• æ–°å¢å•†å“
- ğŸ§© æ–°å¢å•†å“å±¬æ€§ï¼ˆé¸é …ï¼‰
- ğŸ“‹ æŸ¥çœ‹æ‰€æœ‰è¨‚å–®
- âš™ï¸ è¨­å®šè¨‚å–®ç‹€æ…‹
- ğŸ“¤ åŒ¯å‡ºè¨‚å–® (Excel)
- ğŸ“¢ æ¨æ’­è¨Šæ¯çµ¦æ‰€æœ‰ç”¨æˆ¶

## ç³»çµ±éœ€æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Linux ä½œæ¥­ç³»çµ±

## å®‰è£èªªæ˜

1. å®‰è£ä¾è³´å¥—ä»¶ï¼š
```bash
pip install -r requirements.txt
```

2. è¨­å®š Telegram Bot Tokenï¼š
   - åœ¨ `config.py` ä¸­è¨­å®šæ‚¨çš„ Bot Token
   - è¨­å®šç®¡ç†å“¡ ID

3. åˆå§‹åŒ–è³‡æ–™åº«ï¼ˆå»ºè­°åŸ·è¡Œï¼‰ï¼š
```bash
python init_db.py
```
é€™å°‡å‰µå»ºåŸºæœ¬çš„å•†å“åˆ†é¡å’Œç¤ºä¾‹å•†å“

4. å•Ÿå‹•æ©Ÿå™¨äººï¼š
```bash
python main.py
```

## ä½¿ç”¨èªªæ˜

### ä¸€èˆ¬ç”¨æˆ¶
1. åœ¨ Telegram ä¸­æœå°‹æ‚¨çš„æ©Ÿå™¨äºº
2. ç™¼é€ `/start` é–‹å§‹ä½¿ç”¨
3. ä½¿ç”¨ä¸»é¸å–®æŒ‰éˆ•ç€è¦½å•†å“
4. é»æ“Šã€Œç«‹å³è³¼è²·ã€å°‡å•†å“åŠ å…¥è³¼ç‰©è»Š
5. æŸ¥çœ‹è³¼ç‰©è»Šä¸¦çµå¸³

### ç®¡ç†å“¡
ç®¡ç†å“¡æ“æœ‰é¡å¤–çš„é¸å–®é¸é …ï¼š
- **æ–°å¢å•†å“**ï¼šè¼¸å…¥å•†å“åç¨±ã€åˆ†é¡ã€åƒ¹æ ¼ã€åœ–ç‰‡ã€æè¿°ã€åº«å­˜
- **æ–°å¢å±¬æ€§**ï¼šç‚ºå•†å“æ·»åŠ é¸é …ï¼ˆå¦‚å°ºå¯¸ã€é¡è‰²ç­‰ï¼‰
- **ç®¡ç†è¨‚å–®**ï¼šæŸ¥çœ‹æ‰€æœ‰è¨‚å–®ã€æ›´æ”¹è¨‚å–®ç‹€æ…‹
- **æ¨æ’­è¨Šæ¯**ï¼šå‘æ‰€æœ‰ä¸‹éå–®çš„ç”¨æˆ¶ç™¼é€é€šçŸ¥

## å•†å“åˆ†é¡

1. **ğŸŒŠ æµ·æ°´ç³»åˆ—**
   - ä¾†è‡ªæ·±æµ·çš„ç´”æ·¨æµ·æ°´
   - å¯Œå«ç¤¦ç‰©è³ª

2. **ğŸš« ä¸å¯ç³»åˆ—**
   - ç¥ç§˜é…æ–¹
   - é™é‡ä¾›æ‡‰

3. **âš–ï¸ æ–—é‡ç³»åˆ—**
   - ç²¾æº–è¨ˆé‡
   - å¤§å®¹é‡é¸æ“‡

## è¨‚å–®æµç¨‹

1. ç”¨æˆ¶é¸æ“‡å•†å“åŠ å…¥è³¼ç‰©è»Š
2. åœ¨è³¼ç‰©è»Šä¸­èª¿æ•´æ•¸é‡
3. é»æ“Šçµå¸³
4. è¼¸å…¥å–è²¨é–€å¸‚
5. ç³»çµ±ç”Ÿæˆè¨‚å–®ç·¨è™Ÿ
6. ç®¡ç†å“¡æ”¶åˆ°æ–°è¨‚å–®é€šçŸ¥
7. ç”¨æˆ¶å¯éš¨æ™‚æŸ¥çœ‹è¨‚å–®ç‹€æ…‹

## æŠ€è¡“æ¶æ§‹

- **æ¡†æ¶**ï¼špython-telegram-bot 13.7
- **è³‡æ–™åº«**ï¼šSQLite + SQLAlchemy
- **è³‡æ–™åŒ¯å‡º**ï¼špandas + openpyxl

## è³‡æ–™åº«çµæ§‹

- **Product**ï¼šå•†å“è³‡æ–™
- **Option**ï¼šå•†å“é¸é …/å±¬æ€§
- **CartItem**ï¼šè³¼ç‰©è»Šé …ç›®
- **Order**ï¼šè¨‚å–®
- **OrderItem**ï¼šè¨‚å–®é …ç›®

## æ³¨æ„äº‹é …

- ç¢ºä¿ Bot Token ä¿å¯†
- å®šæœŸå‚™ä»½è³‡æ–™åº«æª”æ¡ˆ `orders.db`
- ç®¡ç†å“¡ ID éœ€è¦æ˜¯æ•¸å­—æ ¼å¼çš„ Telegram ç”¨æˆ¶ ID

## æŒçºŒé‹è¡Œ

### ä½¿ç”¨ nohup
```bash
nohup python main.py > bot.log 2>&1 &
```

### ä½¿ç”¨ screen
```bash
screen -S telegram_bot
python main.py
# æŒ‰ Ctrl+A ç„¶å¾Œ D åˆ†é›¢æœƒè©±
```

### ä½¿ç”¨ systemd (æ¨è–¦)
å‰µå»ºæœå‹™æª”æ¡ˆ `/etc/systemd/system/telegram-bot.service`ï¼š
```ini
[Unit]
Description=Telegram Shopping Bot
After=network.target

[Service]
Type=simple
User=your-username
WorkingDirectory=/path/to/bot
ExecStart=/usr/bin/python3 /path/to/bot/main.py
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

å•Ÿå‹•æœå‹™ï¼š
```bash
sudo systemctl start telegram-bot
sudo systemctl enable telegram-bot
```

## æ•…éšœæ’é™¤

1. **æ©Ÿå™¨äººç„¡å›æ‡‰**
   - æª¢æŸ¥ç¶²è·¯é€£ç·š
   - ç¢ºèª Bot Token æ­£ç¢º
   - æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒ

2. **è³‡æ–™åº«éŒ¯èª¤**
   - ç¢ºä¿æœ‰å¯«å…¥æ¬Šé™
   - æª¢æŸ¥ç£ç¢Ÿç©ºé–“

3. **è¨‚å–®ç„¡æ³•å»ºç«‹**
   - ç¢ºèªè³¼ç‰©è»Šæœ‰å•†å“
   - æª¢æŸ¥å•†å“åº«å­˜

## è¯çµ¡è³‡è¨Š

å¦‚æœ‰å•é¡Œè«‹è¯ç¹«ç³»çµ±ç®¡ç†å“¡ã€‚ 